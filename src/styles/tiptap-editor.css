/* Tiptap Editor Styles - Modern Dark Theme */

.tiptap-editor {
  @apply w-full;
}

/* Modern Toolbar Styling */
.tiptap-editor .toolbar-button {
  @apply p-2 rounded text-gray-900 dark:text-gray-300;
}

.tiptap-editor .toolbar-button:hover {
  @apply bg-gray-200 dark:bg-gray-600 text-gray-900 dark:text-white;
}

.tiptap-editor .toolbar-button.active {
  @apply bg-blue-600 text-white;
}

.tiptap-editor .toolbar-button:disabled {
  @apply text-gray-400 dark:text-gray-500 cursor-not-allowed;
}

.tiptap-editor .toolbar-button:disabled:hover {
  @apply bg-transparent text-gray-400 dark:text-gray-500;
}

.tiptap-content .ProseMirror {
  @apply outline-none bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100;
  min-height: calc(600px - 60px); /* Minimum height - toolbar height (60px) */
  height: auto;
  padding: 1.5rem;
  border-radius: 0 0 0.5rem 0.5rem;
  overflow-y: visible;
  overflow-x: hidden;
}

/* Flex height support for dynamic sizing */
.tiptap-editor.h-full .tiptap-content.flex-1 .ProseMirror {
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
}

/* Placeholder */
.tiptap-content .ProseMirror p.is-editor-empty:first-child::before {
  content: attr(data-placeholder);
  @apply text-gray-400 dark:text-gray-500;
  float: left;
  height: 0;
  pointer-events: none;
}

/* Typography */
.tiptap-content .ProseMirror h1 {
  @apply text-3xl font-bold mb-4 text-gray-900 dark:text-gray-100;
}

.tiptap-content .ProseMirror h2 {
  @apply text-2xl font-bold mb-3 text-gray-900 dark:text-gray-100;
}

.tiptap-content .ProseMirror h3 {
  @apply text-xl font-bold mb-2 text-gray-900 dark:text-gray-100;
}

.tiptap-content .ProseMirror h4 {
  @apply text-lg font-bold mb-2 text-gray-900 dark:text-gray-100;
}

.tiptap-content .ProseMirror h5 {
  @apply text-base font-bold mb-2 text-gray-900 dark:text-gray-100;
}

.tiptap-content .ProseMirror h6 {
  @apply text-sm font-bold mb-2 text-gray-900 dark:text-gray-100;
}

.tiptap-content .ProseMirror p {
  @apply mb-3 text-gray-900 dark:text-gray-100 leading-relaxed;
}

/* Lists */
.tiptap-content .ProseMirror ul {
  @apply list-disc mb-3 text-gray-900 dark:text-gray-100;
  list-style-position: outside;
  padding-left: 1.5rem;
}

.tiptap-content .ProseMirror ol {
  @apply list-decimal mb-3 text-gray-900 dark:text-gray-100;
  list-style-position: outside;
  padding-left: 1.5rem;
}

.tiptap-content .ProseMirror li {
  @apply mb-1 text-gray-900 dark:text-gray-100;
  line-height: 1.6;
}

/* Text Alignment Support for Lists - Style attribute based */
.tiptap-content .ProseMirror ul[style*="text-align: center"],
.tiptap-content .ProseMirror ol[style*="text-align: center"] {
  list-style-position: inside;
  padding-left: 0;
  text-align: center;
}

.tiptap-content .ProseMirror ul[style*="text-align: right"],
.tiptap-content .ProseMirror ol[style*="text-align: right"] {
  list-style-position: inside;
  padding-left: 0;
  text-align: right;
}

.tiptap-content .ProseMirror ul[style*="text-align: justify"],
.tiptap-content .ProseMirror ol[style*="text-align: justify"] {
  list-style-position: inside;
  padding-left: 0;
  text-align: justify;
}

.tiptap-content .ProseMirror ul[style*="text-align: left"],
.tiptap-content .ProseMirror ol[style*="text-align: left"] {
  list-style-position: outside;
  padding-left: 1.5rem;
  text-align: left;
}

/* Text Alignment Support for Lists - Data attribute based (TipTap uses data-text-align) */
.tiptap-content .ProseMirror ul[data-text-align="center"],
.tiptap-content .ProseMirror ol[data-text-align="center"] {
  list-style-position: inside;
  padding-left: 0;
  text-align: center;
}

.tiptap-content .ProseMirror ul[data-text-align="right"],
.tiptap-content .ProseMirror ol[data-text-align="right"] {
  list-style-position: inside;
  padding-left: 0;
  text-align: right;
}

.tiptap-content .ProseMirror ul[data-text-align="justify"],
.tiptap-content .ProseMirror ol[data-text-align="justify"] {
  list-style-position: inside;
  padding-left: 0;
  text-align: justify;
}

.tiptap-content .ProseMirror ul[data-text-align="left"],
.tiptap-content .ProseMirror ol[data-text-align="left"] {
  list-style-position: outside;
  padding-left: 1.5rem;
  text-align: left;
}

/* List alignment when list items have text-align */
.tiptap-content .ProseMirror li[style*="text-align: center"] {
  text-align: center;
}

.tiptap-content .ProseMirror li[style*="text-align: right"] {
  text-align: right;
}

.tiptap-content .ProseMirror li[style*="text-align: justify"] {
  text-align: justify;
}

.tiptap-content .ProseMirror li[style*="text-align: left"] {
  text-align: left;
}

/* When list items have alignment, apply to parent list */
.tiptap-content .ProseMirror ul:has(li[style*="text-align: center"]),
.tiptap-content .ProseMirror ol:has(li[style*="text-align: center"]) {
  list-style-position: inside;
  padding-left: 0;
  text-align: center;
}

.tiptap-content .ProseMirror ul:has(li[style*="text-align: right"]),
.tiptap-content .ProseMirror ol:has(li[style*="text-align: right"]) {
  list-style-position: inside;
  padding-left: 0;
  text-align: right;
}

.tiptap-content .ProseMirror ul:has(li[style*="text-align: justify"]),
.tiptap-content .ProseMirror ol:has(li[style*="text-align: justify"]) {
  list-style-position: inside;
  padding-left: 0;
  text-align: justify;
}

/* List Items with Text Alignment - Style attribute based */
.tiptap-content .ProseMirror ul[style*="text-align: center"] li,
.tiptap-content .ProseMirror ol[style*="text-align: center"] li,
.tiptap-content .ProseMirror ul[data-text-align="center"] li,
.tiptap-content .ProseMirror ol[data-text-align="center"] li {
  text-align: center;
  padding-left: 0;
}

.tiptap-content .ProseMirror ul[style*="text-align: right"] li,
.tiptap-content .ProseMirror ol[style*="text-align: right"] li,
.tiptap-content .ProseMirror ul[data-text-align="right"] li,
.tiptap-content .ProseMirror ol[data-text-align="right"] li {
  text-align: right;
  padding-left: 0;
}

.tiptap-content .ProseMirror ul[style*="text-align: justify"] li,
.tiptap-content .ProseMirror ol[style*="text-align: justify"] li,
.tiptap-content .ProseMirror ul[data-text-align="justify"] li,
.tiptap-content .ProseMirror ol[data-text-align="justify"] li {
  text-align: justify;
  padding-left: 0;
}

.tiptap-content .ProseMirror ul[style*="text-align: left"] li,
.tiptap-content .ProseMirror ol[style*="text-align: left"] li,
.tiptap-content .ProseMirror ul[data-text-align="left"] li,
.tiptap-content .ProseMirror ol[data-text-align="left"] li {
  text-align: left;
  padding-left: 0;
}

/* Nested lists */
.tiptap-content .ProseMirror li ul,
.tiptap-content .ProseMirror li ol {
  @apply mt-1 mb-1;
  padding-left: 1.5rem;
}

/* Nested lists with alignment inherit parent alignment */
.tiptap-content .ProseMirror ul[style*="text-align"] li ul,
.tiptap-content .ProseMirror ol[style*="text-align"] li ol,
.tiptap-content .ProseMirror ul[style*="text-align"] li ol,
.tiptap-content .ProseMirror ol[style*="text-align"] li ul {
  text-align: inherit;
  padding-left: 1rem;
}

/* List item content */
.tiptap-content .ProseMirror li p {
  @apply mb-1;
  display: inline;
}

/* Fix for list item spacing */
.tiptap-content .ProseMirror li::marker {
  color: inherit;
}

/* Ensure proper alignment */
.tiptap-content .ProseMirror ul li,
.tiptap-content .ProseMirror ol li {
  position: relative;
  padding-left: 0;
}

/* Better spacing for list content */
.tiptap-content .ProseMirror li > * {
  margin-bottom: 0.25rem;
}

.tiptap-content .ProseMirror li > *:last-child {
  margin-bottom: 0;
}

/* Blockquote */
.tiptap-content .ProseMirror blockquote {
  @apply border-l-4 border-blue-500 pl-4 py-2 mb-3 bg-gray-50 dark:bg-gray-700 text-gray-700 dark:text-gray-300 italic;
}

/* Code */
.tiptap-content .ProseMirror code {
  @apply bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 px-1 py-0.5 rounded text-sm;
}

.tiptap-content .ProseMirror pre {
  @apply bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 p-3 rounded mb-3 overflow-x-auto;
}

.tiptap-content .ProseMirror pre code {
  @apply bg-transparent p-0;
}

/* Text Formatting */
.tiptap-content .ProseMirror strong {
  @apply font-bold text-gray-900 dark:text-gray-100;
}

.tiptap-content .ProseMirror em {
  @apply italic text-gray-900 dark:text-gray-100;
}

.tiptap-content .ProseMirror s {
  @apply line-through text-gray-700 dark:text-gray-300;
}

.tiptap-content .ProseMirror u {
  @apply underline text-gray-900 dark:text-gray-100;
}

/* Links */
.tiptap-content .ProseMirror a {
  @apply text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 underline;
}

/* Horizontal Rule */
.tiptap-content .ProseMirror hr {
  @apply border-gray-300 dark:border-gray-600 my-6 border-t-2;
}

/* Hard Break - Visual indicator */
.tiptap-content .ProseMirror br {
  @apply block;
}

/* Images */
.tiptap-content .ProseMirror img.tiptap-image {
  @apply max-w-full h-auto rounded-lg my-4 cursor-pointer;
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.tiptap-content .ProseMirror img.tiptap-image:hover {
  @apply shadow-lg;
}

/* Image selection */
.tiptap-content .ProseMirror img.ProseMirror-selectednode {
  @apply ring-2 ring-blue-500 ring-opacity-50;
}

/* Focus styles */
.tiptap-content .ProseMirror:focus {
  @apply outline-none;
}

/* Selection */
.tiptap-content .ProseMirror ::selection {
  @apply bg-blue-200 dark:bg-blue-800;
}

/* Responsive */
@media (max-width: 768px) {
  .tiptap-content .ProseMirror {
    padding: 0.75rem;
    min-height: calc(400px - 60px); /* Minimum height for mobile - toolbar height (60px) */
    height: auto;
  }
  
  .tiptap-content .ProseMirror h1 {
    @apply text-2xl;
  }
  
  .tiptap-content .ProseMirror h2 {
    @apply text-xl;
  }
}
