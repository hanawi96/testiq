---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { IQTestWrapper } from '../../components/tests';
import { iqQuestions, testConfig } from '../../data/iqQuestions';

// Lấy danh sách câu hỏi IQ
const questions = iqQuestions;
const timeLimit = testConfig.timeLimit; // Sử dụng config từ file data
---

<BaseLayout 
  title="Test IQ Miễn Phí - Đánh Giá Chỉ Số Thông Minh"
  description="Làm bài test IQ miễn phí với 40 câu hỏi chuẩn quốc tế. Đánh giá chỉ số thông minh của bạn và nhận kết quả chi tiết ngay lập tức."
  keywords="test iq, trắc nghiệm iq, đánh giá trí tuệ, chỉ số thông minh"
>
  <main class="min-h-screen">
    <IQTestWrapper 
      client:load
      questions={questions}
      timeLimit={timeLimit}
      startImmediately={false}
    />
  </main>

  <style>
    /* Fullscreen styles cho test mode */
    :global(body.fullscreen-test) {
      overflow: hidden;
    }
    
    :global(body.fullscreen-test header),
    :global(body.fullscreen-test footer) {
      display: none !important;
    }
    
    /* Đảm bảo test component chiếm toàn bộ màn hình */
    :global(.fullscreen-test main) {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 9999;
      background: white;
    }
    
    :global(.dark .fullscreen-test main) {
      background: #0f172a;
    }
  </style>
</BaseLayout>
