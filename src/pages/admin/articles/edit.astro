---
// Enable server-side rendering for admin pages
export const prerender = false;

import AdminLayout from '../../../layouts/AdminLayout.astro';
import ArticleEditor from '../../../components/admin/articles/editors/ArticleEditor';

// Get article ID from query parameter
const url = new URL(Astro.request.url);
const id = url.searchParams.get('id');

// Validate ID
if (!id) {
  return Astro.redirect('/admin/articles');
}
---

<AdminLayout title="Chỉnh sửa bài viết">
  <ArticleEditor client:only="react" articleId={id} />
</AdminLayout>
