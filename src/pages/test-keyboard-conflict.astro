---
// Test page Ä‘á»ƒ kiá»ƒm tra xung Ä‘á»™t keyboard shortcuts
---

<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Test Keyboard Conflict Fix</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 p-8">
  <div class="max-w-4xl mx-auto">
    <h1 class="text-3xl font-bold mb-8">âŒ¨ï¸ Test Keyboard Shortcuts Conflict Fix</h1>
    
    <!-- Problem Description -->
    <div class="bg-red-50 border border-red-200 rounded-lg p-6 mb-8">
      <h2 class="text-xl font-semibold text-red-800 mb-4">ğŸš¨ Váº¥n Ä‘á» Ä‘Ã£ Ä‘Æ°á»£c sá»­a</h2>
      <div class="space-y-3 text-red-700">
        <p><strong>TrÆ°á»›c khi sá»­a:</strong></p>
        <ul class="list-disc list-inside ml-4 space-y-1">
          <li>Khi CongratulationsPopup hoáº·c TimeUpPopup hiá»ƒn thá»‹</li>
          <li>Nháº­p sá»‘ tuá»•i (vÃ­ dá»¥: 23) váº«n kÃ­ch hoáº¡t chá»n Ä‘Ã¡p Ã¡n</li>
          <li>Sá»‘ 2 â†’ chá»n Ä‘Ã¡p Ã¡n B, sá»‘ 3 â†’ chá»n Ä‘Ã¡p Ã¡n C</li>
          <li>GÃ¢y xung Ä‘á»™t vÃ  tráº£i nghiá»‡m ngÆ°á»i dÃ¹ng kÃ©m</li>
        </ul>
      </div>
    </div>

    <!-- Solution -->
    <div class="bg-green-50 border border-green-200 rounded-lg p-6 mb-8">
      <h2 class="text-xl font-semibold text-green-800 mb-4">âœ… Giáº£i phÃ¡p Ä‘Ã£ implement</h2>
      <div class="space-y-3 text-green-700">
        <p><strong>Sau khi sá»­a:</strong></p>
        <ul class="list-disc list-inside ml-4 space-y-1">
          <li>Keyboard shortcuts (phÃ­m 1-4) tá»± Ä‘á»™ng vÃ´ hiá»‡u hÃ³a khi popup má»Ÿ</li>
          <li>NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ nháº­p tuá»•i bÃ¬nh thÆ°á»ng mÃ  khÃ´ng bá»‹ xung Ä‘á»™t</li>
          <li>Keyboard shortcuts tá»± Ä‘á»™ng kÃ­ch hoáº¡t láº¡i khi popup Ä‘Ã³ng</li>
          <li>UI hiá»ƒn thá»‹ tráº¡ng thÃ¡i keyboard shortcuts (enabled/disabled)</li>
        </ul>
      </div>
    </div>

    <!-- Technical Changes -->
    <div class="bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8">
      <h2 class="text-xl font-semibold text-blue-800 mb-4">ğŸ”§ Thay Ä‘á»•i ká»¹ thuáº­t</h2>
      <div class="space-y-4 text-blue-700">
        
        <div>
          <h3 class="font-semibold mb-2">1. IQTest.tsx</h3>
          <div class="bg-blue-100 p-3 rounded text-sm font-mono">
            <p>// TrÆ°á»›c:</p>
            <p class="text-red-600">isActive: true</p>
            <p class="mt-2">// Sau:</p>
            <p class="text-green-600">isActive: !showCongratulationsPopup && !showTimeUpPopup && !showProgressPopup</p>
          </div>
        </div>

        <div>
          <h3 class="font-semibold mb-2">2. useIQKeyboardNavigation.ts</h3>
          <div class="bg-blue-100 p-3 rounded text-sm">
            <ul class="list-disc list-inside space-y-1">
              <li>ThÃªm logging Ä‘á»ƒ debug keyboard events</li>
              <li>Kiá»ƒm tra isActive trÆ°á»›c khi xá»­ lÃ½ phÃ­m</li>
              <li>Hiá»ƒn thá»‹ tráº¡ng thÃ¡i activation/deactivation</li>
            </ul>
          </div>
        </div>

        <div>
          <h3 class="font-semibold mb-2">3. IQNavigation.tsx</h3>
          <div class="bg-blue-100 p-3 rounded text-sm">
            <ul class="list-disc list-inside space-y-1">
              <li>ThÃªm prop isKeyboardDisabled</li>
              <li>Hiá»ƒn thá»‹ thÃ´ng bÃ¡o khi keyboard shortcuts bá»‹ vÃ´ hiá»‡u hÃ³a</li>
              <li>Visual feedback cho ngÆ°á»i dÃ¹ng</li>
            </ul>
          </div>
        </div>

      </div>
    </div>

    <!-- Test Instructions -->
    <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-8">
      <h2 class="text-xl font-semibold text-yellow-800 mb-4">ğŸ§ª HÆ°á»›ng dáº«n test</h2>
      <div class="space-y-3 text-yellow-700">
        <p><strong>Äá»ƒ test fix nÃ y:</strong></p>
        <ol class="list-decimal list-inside ml-4 space-y-2">
          <li>Truy cáº­p trang IQ test: <code class="bg-yellow-100 px-2 py-1 rounded">/test/iq</code></li>
          <li>LÃ m bÃ i test vÃ  hoÃ n thÃ nh (hoáº·c Ä‘á»ƒ háº¿t thá»i gian)</li>
          <li>Khi CongratulationsPopup hoáº·c TimeUpPopup hiá»ƒn thá»‹:</li>
          <li class="ml-8">
            <ul class="list-disc list-inside space-y-1">
              <li>Thá»­ nháº­p sá»‘ tuá»•i (vÃ­ dá»¥: 23, 45, 67)</li>
              <li>Kiá»ƒm tra console log: pháº£i tháº¥y "Keyboard navigation disabled"</li>
              <li>Kiá»ƒm tra UI: pháº£i tháº¥y "PhÃ­m táº¯t táº¡m thá»i vÃ´ hiá»‡u hÃ³a"</li>
              <li>Äáº£m báº£o khÃ´ng cÃ³ Ä‘Ã¡p Ã¡n nÃ o Ä‘Æ°á»£c chá»n khi nháº­p sá»‘</li>
            </ul>
          </li>
          <li>Sau khi Ä‘Ã³ng popup, keyboard shortcuts pháº£i hoáº¡t Ä‘á»™ng láº¡i bÃ¬nh thÆ°á»ng</li>
        </ol>
      </div>
    </div>

    <!-- Console Logs to Watch -->
    <div class="bg-gray-50 border border-gray-200 rounded-lg p-6 mb-8">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">ğŸ“‹ Console Logs cáº§n chÃº Ã½</h2>
      <div class="space-y-3 text-gray-700">
        <div class="bg-gray-100 p-3 rounded font-mono text-sm">
          <p class="text-green-600">âœ… Keyboard navigation activated - number keys 1-4 will select answers</p>
          <p class="text-red-600">ğŸš« Keyboard navigation disabled - popup is open or test inactive</p>
          <p class="text-orange-600">ğŸš« Keyboard navigation disabled - ignoring key: 2</p>
          <p class="text-blue-600">âœ… Number 2 pressed - selecting answer: 1 (keyboard navigation active)</p>
        </div>
        <p><strong>Khi popup má»Ÿ:</strong> Pháº£i tháº¥y logs "disabled" vÃ  "ignoring key"</p>
        <p><strong>Khi popup Ä‘Ã³ng:</strong> Pháº£i tháº¥y logs "activated" vÃ  "selecting answer"</p>
      </div>
    </div>

    <!-- Edge Cases -->
    <div class="bg-purple-50 border border-purple-200 rounded-lg p-6 mb-8">
      <h2 class="text-xl font-semibold text-purple-800 mb-4">ğŸ¯ Edge Cases Ä‘Ã£ xá»­ lÃ½</h2>
      <div class="space-y-3 text-purple-700">
        <ul class="list-disc list-inside ml-4 space-y-2">
          <li><strong>Multiple popups:</strong> Keyboard disabled khi báº¥t ká»³ popup nÃ o má»Ÿ</li>
          <li><strong>Popup transitions:</strong> State Ä‘Æ°á»£c sync ngay láº­p tá»©c</li>
          <li><strong>Page refresh:</strong> Keyboard state Ä‘Æ°á»£c khÃ´i phá»¥c Ä‘Ãºng</li>
          <li><strong>Mobile devices:</strong> Touch input khÃ´ng bá»‹ áº£nh hÆ°á»Ÿng</li>
          <li><strong>Accessibility:</strong> Screen readers váº«n hoáº¡t Ä‘á»™ng bÃ¬nh thÆ°á»ng</li>
        </ul>
      </div>
    </div>

    <!-- Navigation -->
    <div class="text-center space-x-4">
      <a href="/test/iq" class="inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors">
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
        </svg>
        Test IQ (Kiá»ƒm tra fix)
      </a>
      <a href="/" class="inline-flex items-center px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-medium transition-colors">
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
        </svg>
        Vá» trang chá»§
      </a>
    </div>

    <!-- Footer -->
    <div class="mt-12 text-center text-sm text-gray-500">
      <p>ğŸ”§ Fix keyboard shortcuts conflict - Completed âœ…</p>
      <p>Keyboard shortcuts (1-4) are now properly disabled when popups are open</p>
    </div>

  </div>
</body>
</html>
